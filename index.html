<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="utf-8">
    <title>数式処理</title>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          extensions: ["tex2jax.js"],
          jax: ["input/TeX","output/HTML-CSS"],
          tex2jax: {inlineMath: [["$","$"],["\\(","\\)"]]}
        });
    </script>
    <script type="text/javascript"
        src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML">
    </script>      
    <script type="text/javascript">
    function InputMath(){
        var math_txt = document.getElementById("math-txt")

        var lex = new Lex();
        var token_list = lex.LexicalAnalysis(math_txt.value);

        var parser = new Parser();
        parser.parse(token_list);

        var inp_txt = document.getElementById("inp-txt")
        var out_div = document.getElementById("out-math")
        out_div.innerText = "$$\r\n" + inp_txt.value + "\r\n$$";
    }

    function MakeMath(){
        MathJax.Hub.Queue(["Typeset", MathJax.Hub, "out-math"]);
    }
    </script>    
</head>
<body>

    <!-- javascriptの読み込み -->
    <script src="https://www.promisejs.org/polyfills/promise-7.0.4.min.js"></script>

    <script data-main="./src/main" src="require.js"></script>
    <!-- 
    <script src="./src/main.js" ></script>

        δu_{i} = δy_{i} \cdot σ'(u_{i})

    -->
    <textarea cols="50" rows="5" id="math-txt">
        var a : int;
        a + b * 2;
    </textarea>
    <textarea cols="50" rows="5" id="inp-txt">
            δu_{i} = δy_{i} \cdot σ'(u_{i})
    </textarea>
    <br/>
    <input type="button" value="日本語" onclick="InputMath()"/>
    <input type="button" value="変換" onclick="MakeMath()"/>
    <div id="out-math"></div>

    $$
    δu_{i} = δy_{i} \cdot σ'(u_{i})
    \\
    δx_{i_j} = \displaystyle \sum_{i }^{ Y } δu_{i} \cdot w_{i}^{j}
    \\
    δw_{i}^{j} = δu_{i} \cdot x_{i_j}
    \\
    δb_{i} = δu_{i}
    $$
    
</body>
</html>